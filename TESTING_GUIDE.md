# CatchVoca 테스트 가이드

## 🚀 Chrome Extension 로드 방법

### 1. Extension 빌드
```bash
# 프로젝트 루트에서
pnpm build
```

빌드 완료 후 `packages/extension/dist` 폴더가 생성됩니다.

### 2. Chrome에서 확장 프로그램 로드

1. **Chrome 주소창**에 `chrome://extensions` 입력
2. **우측 상단 "개발자 모드"** 토글 ON
3. **"압축해제된 확장 프로그램을 로드합니다"** 클릭
4. `d:\project\CatchVoca\packages\extension\dist` 폴더 선택
5. ✅ CatchVoca 확장 프로그램 로드 완료!

### 3. 확장 프로그램 확인
- Chrome 툴바에 CatchVoca 아이콘 표시 확인
- 아이콘 클릭 → Popup UI 열림 확인

---

## 📋 기능 테스트 시나리오

### Phase 1: 기본 단어 수집 테스트

#### 1-1. 단어 조회 및 저장
1. 아무 영문 웹페이지 열기 (예: [https://en.wikipedia.org](https://en.wikipedia.org))
2. 영단어 텍스트 선택 (예: "algorithm")
3. 마우스 오른쪽 클릭 → **"CatchVoca: 단어 조회"** 선택
4. **확인 사항**:
   - Popup이 자동으로 열림
   - 선택한 단어 표시
   - 네이버 사전 정의 표시 (또는 Dictionary API 정의)
   - 발음 기호 표시 (있을 경우)
5. **"💾 단어 저장"** 버튼 클릭
6. **확인**: "단어가 저장되었습니다" 알림

#### 1-2. 저장된 단어 확인
1. Popup 열기 (아이콘 클릭)
2. **"📚 관리"** 탭 클릭
3. **확인 사항**:
   - 방금 저장한 단어 표시
   - 정의, 발음, 문맥 정보 확인
   - 조회수 표시 (viewCount)

#### 1-3. 중복 단어 재학습
1. 같은 단어를 다른 웹페이지에서 다시 선택
2. **확인**: "이미 저장된 단어입니다. 다시 학습하시겠습니까?" 알림
3. **"예"** 선택 → 새로운 항목으로 저장됨

---

### Phase 2-A: 단어 관리 기능

#### 2-1. 단어 검색
1. **"📚 관리"** 탭에서 검색창 사용
2. 단어 입력 (예: "algo")
3. **확인**: 부분 일치하는 단어 필터링

#### 2-2. 즐겨찾기
1. 단어 항목의 **⭐ 아이콘** 클릭
2. **확인**: 별 아이콘 색상 변경 (회색 → 노란색)
3. **"즐겨찾기만"** 필터 선택
4. **확인**: 즐겨찾기한 단어만 표시

#### 2-3. 단어 삭제
1. 단어 항목의 **🗑️ 아이콘** 클릭
2. 확인 대화상자: **"예"** 선택
3. **확인**: 단어 목록에서 제거됨

---

### Phase 2-B: AI 웹페이지 분석 (Gemini API 필요)

#### 2-4. AI 분석 설정
1. **"⚙️ 설정"** 탭 열기
2. **"🤖 AI 설정"** 섹션으로 스크롤
3. Gemini API 키 입력
4. **"💾 설정 저장"** 클릭

#### 2-5. AI 단어 하이라이트
1. 영문 기사 웹페이지 열기
2. **확인 사항**:
   - 중요한 단어 노란색 하이라이트
   - 이미 학습한 단어 녹색 하이라이트
   - 하이라이트된 단어에 마우스 오버 → 툴팁 (중요도 점수)
3. 노란색 하이라이트 단어 클릭 → 단어 조회 Popup 열림

#### 2-6. AI 추천 단어
1. Popup에서 **"🤖 AI 추천"** 버튼 클릭 (있을 경우)
2. **확인**: 현재 페이지의 중요 단어 목록 표시
3. 추천 단어 클릭 → 단어 저장

---

### Phase 2-C: PDF 지원 & 키보드 단축키

#### 2-7. PDF 단어 조회
1. PDF 파일 열기 (Chrome 내장 뷰어)
2. PDF 내 영단어 텍스트 선택
3. 마우스 우클릭 → **"CatchVoca: 단어 조회"**
4. **확인**: Popup에서 단어 정의 표시

#### 2-8. 키 조합 + 클릭 단축키 ✨ **NEW**
이제 단어를 드래그/선택하지 않고도 **클릭만으로** 단어 조회 및 저장이 가능합니다!

**2-8-1. Ctrl + 클릭 (단어 조회)**
1. 웹페이지의 아무 영단어에 마우스 커서 올리기
2. **Ctrl 키를 누른 상태**에서 **클릭**
3. **확인**:
   - 클릭한 위치의 단어가 자동으로 추출됨
   - 툴팁 팝업으로 단어 정의 표시
   - 단어를 드래그/선택할 필요 없음!

**2-8-2. Alt + 클릭 (단어 즉시 저장)**
1. 웹페이지의 아무 영단어에 마우스 커서 올리기
2. **Alt 키를 누른 상태**에서 **클릭**
3. **확인**:
   - 클릭한 위치의 단어가 자동으로 추출 및 저장
   - 녹색 토스트 알림: "✅ [단어] 저장됨"
   - 2초 후 자동 사라짐

**💡 사용 팁**:
- Mac 사용자: **Cmd + 클릭**도 가능 (Ctrl 대신)
- PDF에서도 동일하게 작동
- 링크 클릭 방지: Ctrl/Alt 키가 기본 동작을 막아줌

#### 2-9. 단축키 커스터마이징
1. **"⚙️ 설정"** 탭 → **"⌨️ 단축키 설정"** 섹션
2. **"🔧 단축키 커스터마이징"** 버튼 클릭
3. `chrome://extensions/shortcuts` 페이지 열림
4. CatchVoca 단축키 변경 가능

#### 2-10. 단어 읽기 모드 설정 ✨ **NEW**
웹페이지와 PDF에서 단어를 조회하는 방법을 자유롭게 선택할 수 있습니다!

**2-10-1. 설정 방법**
1. **"⚙️ 설정"** 탭 → **"🖱️ 단어 읽기 모드"** 섹션
2. **확인**: 웹페이지와 PDF 각각 독립적으로 설정 가능
3. **선택 가능한 모드**:
   - **마우스 드래그**: 단어를 드래그하여 선택 (전통적 방식)
   - **Ctrl + 클릭**: Ctrl 키를 누른 채 단어 클릭하여 조회
   - **Alt + 클릭**: Alt 키를 누른 채 단어 클릭하면 즉시 저장
   - **Ctrl + 드래그**: Ctrl 키를 누른 채 드래그
   - **Alt + 드래그**: Alt 키를 누른 채 드래그

**2-10-2. 모드별 특징**
- **드래그 모드**: 구문이나 숙어를 선택할 때 유용 (최대 3단어)
- **Ctrl + 클릭**: 빠른 단일 단어 조회에 최적 (링크 클릭 방지)
- **Alt + 클릭**: 단어 저장을 한 번에 완료 (조회 없이 바로 저장)
- **수정자 키 + 드래그**: 일반 텍스트 선택과 충돌 방지

**2-10-3. 실전 활용 예시**
```
시나리오 1: 뉴스 기사 읽기
→ 웹페이지: Ctrl + 클릭 (빠른 조회)
→ PDF: 마우스 드래그 (구문 선택)

시나리오 2: 논문 작성 중 단어 수집
→ 웹페이지: Alt + 클릭 (빠른 저장)
→ PDF: Ctrl + 클릭 (빠른 조회)

시나리오 3: 기본 브라우징
→ 웹페이지: 마우스 드래그 (편안한 사용)
→ PDF: 마우스 드래그 (일관된 경험)
```

**2-10-4. 동작 테스트**
1. 설정에서 **웹페이지 모드**를 **"Ctrl + 클릭"**으로 변경
2. 아무 웹페이지에서 단어 위에 커서 올리기
3. **Ctrl + 클릭** → 툴팁 표시 확인
4. **일반 클릭 (Ctrl 없이)** → 아무 일도 일어나지 않음 확인
5. 설정을 **"Alt + 클릭"**으로 변경
6. **Alt + 클릭** → 즉시 저장 알림 확인
7. **PDF 파일**에서도 동일하게 테스트

💡 **팁**: 설정 변경은 즉시 반영되며, 브라우저 새로고침 불필요!

---

### Phase 2-D: 전역 단축키 & 데이터 백업

#### 2-11. 전역 단축키
1. 아무 웹페이지에서:
   - **Ctrl+Shift+S**: 선택한 단어 저장
   - **Ctrl+Shift+Q**: 퀴즈 시작
   - **Ctrl+Shift+V**: Popup 열기
2. **확인**: 각 단축키가 정상 작동

#### 2-12. 데이터 백업
1. **"⚙️ 설정"** 탭 → **"💾 데이터 백업/복원"** 섹션
2. **"📥 데이터 내보내기"** 클릭
3. **확인**:
   - `catchvoca-backup-YYYY-MM-DD.json` 파일 다운로드
   - 알림에 백업된 단어 수 표시

#### 2-13. 데이터 복원
1. **"📤 데이터 가져오기"** 클릭
2. 이전에 저장한 JSON 파일 선택
3. **확인**:
   - "가져오기 완료!" 알림
   - 가져온 단어/건너뛴 단어 수 표시
   - **"📚 관리"** 탭에서 복원된 단어 확인

---

### Phase 2-E: 복습 퀴즈 (SM-2 알고리즘)

#### 2-14. 퀴즈 시작
1. Popup에서 **"📝 퀴즈"** 탭 클릭
2. **"🎯 퀴즈 시작"** 버튼 클릭
3. **확인 사항**:
   - 단어 카드 표시 (영단어만)
   - **"📖 정답 보기"** 버튼

#### 2-15. SM-2 평가
1. **"📖 정답 보기"** 클릭
2. **확인**: 정의, 발음, 문맥 표시
3. 난이도 평가 버튼 4개 표시:
   - **❌ 모름** (Again) - 1일 후
   - **😅 어려움** (Hard) - 1일 후
   - **✅ 보통** (Good) - 6일 후
   - **😊 쉬움** (Easy) - 6일 후
4. 평가 버튼 클릭
5. **확인**: 다음 단어로 이동

#### 2-16. 퀴즈 완료
1. 모든 단어 평가 완료
2. **확인**:
   - **"🎉 퀴즈 완료!"** 화면
   - 통계 표시 (완료한 단어 수, 평균 난이도 등)
   - **"🔄 다시 시작"** 버튼

---

### Phase 2-F: 모바일 퀴즈 (URL Hash 기반)

#### 2-17. 모바일 퀴즈 링크 생성
1. **"⚙️ 설정"** 탭 → **"📱 모바일 퀴즈"** 섹션 (있을 경우)
2. **"📱 모바일 퀴즈 생성"** 버튼 클릭
3. **확인**:
   - 링크 생성 완료 알림
   - QR 코드 표시
   - URL 정보 (단어 수, 압축 크기, URL 길이)

#### 2-18. 모바일에서 퀴즈 실행
1. **방법 1**: QR 코드 스캔
2. **방법 2**: **"🔗 링크 복사"** → 모바일에 전송
3. 모바일 브라우저에서 링크 열기
4. **확인**:
   - PWA 퀴즈 페이지 로드
   - 단어 카드 표시
   - SM-2 평가 가능

---

## 🐛 문제 해결

### Extension이 로드되지 않을 때
1. `pnpm build` 재실행
2. Chrome에서 확장 프로그램 제거 후 재로드
3. Chrome 개발자 도구 (F12) → Console 탭에서 에러 확인

### API 키 관련
- **Gemini API**: [https://aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)에서 무료 발급
- **네이버 Dictionary API**: 네이버 개발자 센터에서 발급 (선택 사항)

### 데이터 초기화
1. **"⚙️ 설정"** 탭 → **"🗑️ 모든 데이터 삭제"** (있을 경우)
2. 또는 Chrome DevTools → Application → IndexedDB → CheckVocaDB 삭제

---

## 📊 성능 확인

### 테스트 메트릭
- ✅ 단어 저장 속도: <500ms
- ✅ 단어 조회 속도: <1초 (API 응답 포함)
- ✅ 퀴즈 로드 시간: <200ms
- ✅ AI 분석 시간: <5초 (페이지 크기에 따라 다름)
- ✅ 모바일 퀴즈 링크 생성: <1초

### 브라우저 호환성
- ✅ Chrome 88+
- ✅ Edge 88+
- ✅ Brave (Chromium 기반)

---

## 🎯 핵심 테스트 체크리스트

- [ ] 단어 조회 및 저장
- [ ] 중복 단어 재학습
- [ ] 단어 검색 및 필터링
- [ ] 즐겨찾기 토글
- [ ] SM-2 퀴즈 평가
- [ ] 전역 단축키 (Ctrl+Shift+S, Q, V)
- [ ] PDF 단어 조회
- [ ] 키보드 단축키 (Ctrl+클릭, Alt+클릭)
- [ ] 단어 읽기 모드 설정 (웹페이지/PDF 독립 설정)
- [ ] 단어 읽기 모드 동적 변경 (즉시 반영)
- [ ] 데이터 백업/복원
- [ ] 모바일 퀴즈 링크 생성
- [ ] AI 웹페이지 분석 (API 키 필요)
- [ ] AI 단어 하이라이트 (API 키 필요)

---

## 📝 피드백

테스트 중 발견한 버그나 개선 사항은 GitHub Issues에 등록해주세요!
